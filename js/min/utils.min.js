var UTILS={blockAjax:!1,konamiCodePosition:0,init:function(){this.initAjax(),this.backTopEvent(),this.btnPopupCloseEvent(),this.customTabEvent(),this.colorModeEvent(),this.scrollEvent(),this.customCollapse(),this.customList(),this.getCustomListValues()},initAjax:function(){$.ajaxSetup({type:"POST",dataType:"json",error:function(){UTILS.showInfo("Error","An unexpected error has occurred.<br>Reload the page to try again."),UTILS.blockAjax=!1}})},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},showInfo:function(e,a){$("#popup-info .title").html(e),$("#popup-info .text").html(a),this.showPopup("#popup-info")},showPopup:function(e){var a=$(e).height();$(e).find(".content").height()>a?$(e).addClass("popup-top"):$(e).removeClass("popup-top"),$(e).addClass("active"),$("body").addClass("block")},closePopup:function(e){$(e).removeClass("active"),$("body").removeClass("block")},validate:function(e,a){var t=null;if("string"!=typeof a&&"number"!=typeof a)return!1;switch("string"==typeof a&&(a=a.toUpperCase()),e){case"name":case"lastname":t=/^[A-ZÁÉÍÓÚÄËÏÖÜÀÈÌÒÙÑçªº .\-]{2,50}$/;break;case"telephone":t=/^(6[0-9]|7[0-9])\d{7}$/;break;case"email":a=a.toLowerCase(),t=/^[a-z0-9._\-]+@[a-z0-9_\-]+\.(es|com|eu|net|org|info|madrid|com\.es|pt|fr|tv|cat|barcelona|eus|gal|mx|online|app|tienda|blog|io|email|mobi|com\.mx|biz|tech|cloud|page|site|center|futbol|me|abogado|academy|accountant|accountants|actor|africa|agency|airforce|alsace|amsterdam|apartments|app|archi|army|art|asia|associates|attorney|auction|auto|band|bar|bargains|be|beer|best|bet|bid|bike|bingo|bio|biz|black|blue|boston|boutique|brussels|build|builders|business|buzz|bzh|cab|cafe|cam|camera|camp|capetown|capital|car|cards|care|careers|cars|casa|cash|casino|catering|cc|ceo|chat|cheap|church|city|cl|claims|cleaning|clinic|clothing|club|co|coach|codes|coffee|college|cologne|com\.co|com\.es|com\.pe|com\.pt|community|company|computer|condos|construction|consulting|contractors|cooking|cool|country|coupons|credit|creditcard|cricket|cruises|cymru|dance|date|dating|deals|degree|delivery|democrat|dental|dentist|desi|design|dev|diamonds|digital|direct|directory|discount|dog|domains|download|durban|earth|education|email|energy|engineer|engineering|enterprises|equipment|estate|events|exchange|expert|exposed|express|fail|faith|family|fan|fans|farm|fashion|finance|financial|fish|fishing|fit|fitness|flights|florist|football|forsale|foundation|fund|furniture|fyi|gallery|game|garden|gift|gifts|gives|glass|global|gmbh|gold|golf|graphics|gratis|green|gripe|group|guide|guru|haus|healthcare|hiv|hockey|holdings|holiday|horse|hospital|host|house|icu|immo|immobilien|in|industries|info|ink|institute|insure|international|investments|irish|ist|istanbul|jewelry|joburg|kaufen|kim|kitchen|kiwi|koeln|la|land|law|lawyer|lease|legal|lgbt|life|lighting|limited|limo|live|loan|loans|lol|london|love|ltd|ltda|luxury|maison|management|market|marketing|mba|me|media|memorial|men|menu|miami|moda|moe|mom|money|mortgage|movie|nagoya|name|navy|net\.pe|network|news|ninja|nl|nom\.es|nom\.pe|okinawa|one|onl|org\.es|org\.mx|org\.pe|organic|page|paris|partners|parts|party|pe|pet|photo|photography|photos|pictures|pink|pizza|place|plumbing|plus|poker|press|pro|productions|promo|properties|pub|qpon|quebec|racing|recipes|red|rehab|reise|reisen|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rip|rocks|rodeo|run|ryukyu|saarland|sale|salon|sarl|school|schule|science|scot|services|shoes|shop|shopping|show|singles|ski|soccer|social|software|solar|solutions|space|srl|store|stream|studio|style|supplies|supply|support|surf|surgery|systems|tax|taxi|team|technology|tel|tennis|theater|tips|tires|tirol|today|tokyo|tools|top|tours|town|toys|trade|training|travel|tube|university|uno|vacations|vegas|ventures|vet|viajes|video|villas|vin|vip|vision|vlaanderen|vodka|voyage|wales|watch|webcam|website|wedding|wiki|win|wine|work|works|world|ws|wtf|xyz|yoga|yokohama|zone)$/;break;case"cp":t=/^(?:0[1-9]\d{3}|[1-4]\d{4}|5[0-9]\d{3})$/;break;case"slug":t=/^[A-Z][0-9A-Z\-]{1,90}$/;break;case"price":t=/^([0-9]{1,9})$|^([0-9]+\,+[0-9]{1,2})$/;break;case"weight":t=/^([0-9]{1,9})$|^([0-9]+\,+[0-9]{1,3})$/;break;case"price-negative":t=/^-?([0-9]{1,9}|[0-9]+[.,][0-9]{1,2})$/;break;case"weight-negative":t=/^-?([0-9]{1,9}|[0-9]+[.,][0-9]{1,3})$/;break;case"priceES":t=/^([0-9]{1,9})$|^([0-9]+\.+[0-9]{1,2})$/;break;case"hexadecimal":t=/^#[0-9A-F]{2,7}$/;break;case"no-cero":0!=parseInt(a)&&(a=1),t=/^[1]$/;break;case"date":t=/^([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))$/;break;case"number":t=/^[0-9]+$/;break;case"code":t=/^[0-9A-Z]{1,20}$/;break;case"min-char-3":t=/^.{3,}$/}return null!=t&&t.test(a)},validateForm:function(e){$(e).find("*").removeClass("error");var a={response:!0,errorFields:[]};return $(e).find("input[validate][validate-type], select[validate][validate-type], textarea[validate][validate-type]").each((function(){const e=$(this).attr("validate-type");var t=$(this).val().trim();if(!UTILS.validate(e,t)){$(this).addClass("error"),a.response=!1;const e=$(this).attr("validate-name");null!=e&&a.errorFields.push(e)}})),a},konamiCode:function(e){var a=["up","up","down","down","left","right","left","right","b","a"];({37:"left",38:"up",39:"right",40:"down",65:"a",66:"b"})[e]==a[this.konamiCodePosition]?(this.konamiCodePosition++,this.konamiCodePosition==a.length&&(console.log("Konami Code!"),new Audio(PUBLIC_PATH+"/audio/konami-code.mp3").play(),this.konamiCodePosition=0)):this.konamiCodePosition=0},backTopEvent:function(){$("#back-top").off().on("click",(function(){$("html, body").animate({scrollTop:0},300,"swing")}))},btnPopupCloseEvent:function(){$(".popup .btn-popup-close").off().on("click",(function(){$(this).closest(".popup").removeClass("active"),$("body").removeClass("block")}))},customTabEvent:function(){$(".custom-tab .menu > div").off().on("click",(function(){var e=$(this).attr("id-tab");$(this).closest(".custom-tab").find(".menu > div.active").removeClass("active"),$(this).addClass("active"),$(this).closest(".custom-tab").find(".content > div.active").removeClass("active"),$(this).closest(".custom-tab").find('.content > div[id-tab="'+e+'"]').addClass("active")}))},colorModeEvent:function(){$("#btn-change-color-mode > input").off().on("click",(function(){var e=$(this);if(!e.hasClass("disabled")){e.addClass("disabled"),e.prop("disabled",!0);var a={mode:""};null!=$("#btn-change-color-mode > input:checked").val()?($("body").addClass("dark-mode"),a.mode="dark-mode"):($("body").removeClass("dark-mode"),a.mode="light-mode"),$.ajax({url:PUBLIC_PATH+"/choose-color-mode",data:a,success:function(a){e.prop("disabled",!1),e.removeClass("disabled")}})}}))},scrollEvent:function(){var e=$(window).scrollTop(),a=$("#popup-loading").height();a+e>=a+350?$("header").addClass("float"):$("header").removeClass("float"),e>a/2?$("#back-top").fadeIn():$("#back-top").fadeOut(),$(".animate").each((function(){var t=!1;$(this).offset().top+$(this).height()<=a+e&&$(this).offset().top+$(this).height()>=e&&!$(this).hasClass("active")&&(t=!0),$(this).offset().top+10<=a+e&&$(this).offset().top+10>=e&&!$(this).hasClass("active")&&(t=!0),$(this).offset().top+$(this).height()>a+e&&$(this).offset().top<e&&(t=!0),t&&$(this).addClass("active")}))},customCollapse:function(){$(".custom-collapse li").each((function(){0!=$(this).children(".options").length&&$(this).children(".label").addClass("has-options")})),$(".custom-collapse li .label.has-options").off().on("click",(function(){var e=$(this).parent("li"),a=e.hasClass("active"),t=$(this).closest(".custom-collapse");t.hasClass("only-one")&&t.find("li.active").each((function(){$(this).removeClass("active")})),0!=e.children(".options").length&&(a?e.removeClass("active"):e.addClass("active"))}))},customList:function(){$(".custom-list[selectable] > *").each((function(){$(this).off().on("click",(function(){var e=$(this).parent();e.attr("max-select");if(null==e.attr("multiple")&&e.children().removeClass("active"),$(this).hasClass("active"))$(this).removeClass("active");else{if(null!=e.attr("max-select"))if(e.children(".active").length>=e.attr("max-select"))return!1;$(this).addClass("active")}}))}))},getCustomListValues:function(e){var a=new Array;return $(e).children(".active").each((function(){let e=$(this).attr("value");a.push(e)})),a}};$(window).ready((function(){UTILS.init()})),$(window).on("keydown",(function(e){UTILS.konamiCode(e.keyCode)})),$(window).scroll((function(){UTILS.scrollEvent()}));